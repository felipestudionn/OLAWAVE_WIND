# PRD â€” SketchFlow: AI Fashion Tech Pack Generator

## 1. Resumen Ejecutivo

**Producto:** SketchFlow â€” Web App que genera fichas tÃ©cnicas de moda (tech packs) a partir de fotos de referencia/inspiraciÃ³n.

**Problema:** Los profesionales de tendencias en moda (no diseÃ±adores) necesitan comunicar ideas de producto al equipo de patronaje. Actualmente esto requiere saber dibujar o depender de un diseÃ±ador. El proceso es lento e ineficiente.

**SoluciÃ³n:** Una web app donde la usuaria sube 2-4 fotos de inspiraciÃ³n, indica quÃ© elemento le interesa de cada foto (ej: "el botÃ³n de esta", "la hombrera de esta otra"), y la app genera automÃ¡ticamente un sketch sobre un maniquÃ­ tÃ©cnico + una ficha tÃ©cnica completa lista para enviar a patronaje.

**Usuaria principal:** Profesional de tendencias/buying en empresa de moda. No es diseÃ±adora. Necesita rapidez y simplicidad.

---

## 2. Output de Referencia â€” LA FICHA TÃ‰CNICA

> **CRÃTICO:** El output debe replicar EXACTAMENTE el formato de la imagen de referencia adjunta. A continuaciÃ³n se describe con precisiÃ³n milimÃ©trica el layout.

### 2.1 Layout General de la Ficha (formato vertical A4)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                    [Logo/Brand]     â”‚
â”‚                                                     â”‚
â”‚  [BRAND NAME]        [Nombre del diseÃ±ador/equipo]  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Date Created:â”‚ Season: FW24 â”‚ Style: SET TWEED â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ Designer:    â”‚ Ext:         â”‚ Pattern Cutter:  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                     â”‚
â”‚                                                     â”‚
â”‚   bust â”€â”€â”€â”€â”                                        â”‚
â”‚            â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚   waist â”€â”€â”€â”¤    â”‚ MANIQUÃ â”‚    â”‚ MANIQUÃ â”‚          â”‚
â”‚            â”‚    â”‚ FRONTAL â”‚    â”‚ TRASERO â”‚          â”‚
â”‚   seat â”€â”€â”€â”€â”˜    â”‚   con   â”‚    â”‚   con   â”‚          â”‚
â”‚                 â”‚ SKETCH  â”‚    â”‚ SKETCH  â”‚          â”‚
â”‚                 â”‚ encima  â”‚    â”‚ encima  â”‚          â”‚
â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    [NOTAS EN ROJO]                    â”‚
â”‚  â”‚ MUESTRA  â”‚    - "1, 3cm"                         â”‚
â”‚  â”‚ DE TEJIDOâ”‚    - "vivo desfluecado"               â”‚
â”‚  â”‚ (imagen) â”‚    - "ambos lados"                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    - "Peplum" (nota en espalda)       â”‚
â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚            ZONA DE COMENTARIOS                  â”‚â”‚
â”‚  â”‚  (medidas, detalles constructivos, tejido)      â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 Elementos Clave del Output

1. **Header con metadata:** Brand, fecha, temporada, estilo, diseÃ±ador, extensiÃ³n, patronista
2. **ManiquÃ­ frontal (izquierda):** Croquis tÃ©cnico de cuerpo humano de frente con el sketch de la prenda DIBUJADO ENCIMA
3. **ManiquÃ­ trasero (derecha):** Mismo croquis de espaldas con el sketch de la parte trasera de la prenda DIBUJADO ENCIMA
4. **LÃ­neas de medidas (izquierda):** bust, waist, seat â€” con lÃ­neas horizontales que conectan al maniquÃ­
5. **Notas manuscritas en rojo:** Anotaciones de detalle (vivos, acabados, peplum, etc.) colocadas junto al sketch
6. **Muestra de tejido (esquina inferior izquierda):** Imagen/swatch del tejido seleccionado
7. **Grid inferior:** Espacio para medidas y comentarios adicionales

### 2.3 El ManiquÃ­ â€” EspecificaciÃ³n SVG

> **MUY IMPORTANTE:** El maniquÃ­ debe ser un SVG vectorial limpio, estilo croquis de moda tÃ©cnico (NO fashion illustration estilizada). Proporciones realistas de cuerpo humano, lÃ­neas finas en gris claro. El sketch de la prenda se dibuja ENCIMA con lÃ­neas mÃ¡s gruesas y negras.

**ManiquÃ­ frontal:**
- Cabeza: Ã³valo simple con lÃ­nea central vertical
- Cara: ojos, nariz y boca minimalistas (puntos y lÃ­neas)
- Cuerpo: proporciones de 8 cabezas aprox
- Brazos: ligeramente separados del cuerpo, uno puede estar extendido mostrando manga
- Piernas: rectas, ligeramente separadas
- Color: gris claro (#CCCCCC) o lÃ­nea fina gris

**ManiquÃ­ trasero:**
- Misma proporciÃ³n que el frontal
- Sin rasgos faciales, solo Ã³valo de cabeza con lÃ­nea central
- Espalda visible

**El sketch de la prenda:**
- Se renderiza ENCIMA del maniquÃ­
- LÃ­neas negras mÃ¡s gruesas
- Incluye detalles constructivos: costuras, botones, pliegues, cierres
- Debe generarse por IA basÃ¡ndose en las fotos de input

---

## 3. Flujo de Usuario (UX Flow)

### Paso 1: Upload de Fotos de Referencia
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                         â”‚
â”‚   Sube tus fotos de referencia (2-4)    â”‚
â”‚                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ +   â”‚  â”‚ +   â”‚  â”‚ +   â”‚  â”‚ +   â”‚  â”‚
â”‚   â”‚Foto â”‚  â”‚Foto â”‚  â”‚Foto â”‚  â”‚Foto â”‚  â”‚
â”‚   â”‚  1  â”‚  â”‚  2  â”‚  â”‚  3  â”‚  â”‚  4  â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- Drag & drop o click para subir
- Acepta: JPG, PNG, WEBP
- MÃ¡ximo 4 fotos
- MÃ­nimo 1 foto
- Preview de cada foto subida

### Paso 2: Instrucciones por Foto
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Foto 1: [preview]                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ "Quiero el cuello y las hombreras   â”‚ â”‚
â”‚ â”‚  de esta foto"                      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                         â”‚
â”‚ Foto 2: [preview]                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ "Los botones y el largo de esta"    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                         â”‚
â”‚ Foto 3: [preview]                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ "El tejido y color de esta"         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- Cada foto tiene un campo de texto para instrucciones
- Placeholder con ejemplos: "Â¿QuÃ© te gusta de esta foto?"
- OpciÃ³n de voice-to-text para dictar (nice to have)

### Paso 3: Detalles Generales
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                         â”‚
â”‚ Tipo de prenda:  [Dropdown]             â”‚
â”‚   - Top / Blusa / Camisa                â”‚
â”‚   - Chaqueta / Blazer                   â”‚
â”‚   - Vestido                             â”‚
â”‚   - PantalÃ³n                            â”‚
â”‚   - Falda                               â”‚
â”‚   - Set / Conjunto                      â”‚
â”‚   - Abrigo                              â”‚
â”‚   - Otro: [text field]                  â”‚
â”‚                                         â”‚
â”‚ Temporada:  [Dropdown] SS26 / FW26 / .. â”‚
â”‚ Nombre/Estilo: [text field]             â”‚
â”‚ Tejido principal: [text field]          â”‚
â”‚ Notas adicionales: [textarea]           â”‚
â”‚   ej: "peplum en espalda", "vivo de     â”‚
â”‚   3cm desfluecado ambos lados"          â”‚
â”‚                                         â”‚
â”‚         [ğŸ¨ GENERAR FICHA TÃ‰CNICA]      â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Paso 4: Output â€” Ficha TÃ©cnica Generada
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                         â”‚
â”‚  [Preview de la ficha tÃ©cnica]          â”‚
â”‚  - Formato idÃ©ntico a la referencia     â”‚
â”‚  - ManiquÃ­ frontal + trasero con sketch â”‚
â”‚  - Header con metadata                  â”‚
â”‚  - Notas en rojo                        â”‚
â”‚  - Espacio para tejido                  â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ZONA EDITABLE:                      â”‚â”‚
â”‚  â”‚ - Click en notas para editar texto  â”‚â”‚
â”‚  â”‚ - Click en medidas para rellenar    â”‚â”‚
â”‚  â”‚ - Drag para reposicionar notas      â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                         â”‚
â”‚  [ğŸ“¥ Descargar PDF]  [ğŸ“¥ Descargar PNG]â”‚
â”‚  [ğŸ”„ Regenerar sketch]                 â”‚
â”‚  [âœï¸ Editar instrucciones]             â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. Arquitectura TÃ©cnica

### 4.1 Stack Recomendado (Velocidad de desarrollo mÃ¡xima)

```
Frontend:        Next.js 14+ (App Router) + Tailwind CSS + shadcn/ui
Backend/API:     Next.js API Routes (serverless)
AI - Sketch:     Claude claude-sonnet-4-5-20250929 Vision + generaciÃ³n SVG
                 (o Anthropic API para analizar fotos â†’ generar SVG del sketch)
AI - Alternativa: OpenAI DALL-E 3 / Stable Diffusion para sketch rasterizado
Storage:         Vercel Blob / Cloudflare R2 (para imÃ¡genes subidas)
Export PDF:      html2canvas + jsPDF (client-side)
                 o Puppeteer (server-side para mejor calidad)
Deploy:          Vercel (deploy en minutos)
Auth:            No auth para MVP (acceso directo)
```

### 4.2 Flujo de Datos

```
[Fotos de referencia (2-4)]
         â”‚
         â–¼
[Upload a storage temporal]
         â”‚
         â–¼
[EnvÃ­o a Claude Vision API]
  - Todas las fotos como input
  - Instrucciones por foto
  - Tipo de prenda
  - Notas adicionales
         â”‚
         â–¼
[Claude genera:]
  1. DescripciÃ³n tÃ©cnica detallada del diseÃ±o combinado
  2. SVG del sketch frontal (prenda sobre maniquÃ­)
  3. SVG del sketch trasero (prenda sobre maniquÃ­)
  4. Sugerencias de medidas
  5. Lista de detalles constructivos
         â”‚
         â–¼
[Frontend renderiza la ficha tÃ©cnica]
  - Template HTML/CSS que replica el formato de referencia
  - Inserta los SVGs generados
  - Rellena metadata
  - Muestra notas editables
         â”‚
         â–¼
[Exporta como PDF/PNG]
```

### 4.3 Prompt Engineering para Claude Vision

```markdown
## System Prompt para generaciÃ³n de sketch

Eres un diseÃ±ador tÃ©cnico de moda. Tu trabajo es analizar fotos de referencia
y generar un sketch tÃ©cnico SVG de una prenda que combine los elementos
indicados de cada foto.

### Input que recibirÃ¡s:
- 2-4 fotos de referencia con instrucciones de quÃ© elemento tomar de cada una
- Tipo de prenda
- Notas adicionales

### Output que debes generar (JSON):
{
  "sketch_frontal_svg": "<svg>...</svg>",  // SVG del sketch frontal
  "sketch_trasero_svg": "<svg>...</svg>",  // SVG del sketch trasero
  "descripcion_tecnica": "...",            // DescripciÃ³n para patronaje
  "detalles_constructivos": [              // Array de notas
    { "texto": "Vivo de 3cm desfluecado", "posicion": "cintura" },
    { "texto": "Peplum", "posicion": "espalda-bajo" }
  ],
  "medidas_sugeridas": {
    "bust": "â€”",
    "waist": "â€”",
    "seat": "â€”",
    "largo_total": "â€”",
    "largo_manga": "â€”"
  },
  "tejido_sugerido": "..."
}

### Reglas para el SVG:
1. El SVG debe tener un viewBox de "0 0 300 500"
2. NO incluir el maniquÃ­ â€” solo la prenda (el maniquÃ­ ya estÃ¡ en el template)
3. Usar lÃ­neas negras (#000000) con stroke-width de 1.5-2px
4. Incluir detalles constructivos: costuras, botones, pliegues, cierres
5. Estilo: sketch tÃ©cnico de moda, NO fashion illustration
6. La prenda debe dimensionarse para encajar sobre un maniquÃ­ de 300x500
7. Incluir lÃ­neas de costura con trazo discontinuo donde aplique
8. Botones como pequeÃ±os cÃ­rculos
9. Pliegues/draping con lÃ­neas curvas sutiles
```

### 4.4 Template del ManiquÃ­ Base (SVG)

El frontend debe tener 2 SVGs base precargados:

1. **`croquis-frontal.svg`** â€” ManiquÃ­ tÃ©cnico de frente
   - LÃ­neas finas en gris claro (#CCCCCC)
   - Proporciones realistas (no fashion elongated)
   - Cabeza con rasgos minimalistas
   - Brazos ligeramente separados
   - LÃ­nea central vertical de simetrÃ­a

2. **`croquis-trasero.svg`** â€” ManiquÃ­ tÃ©cnico de espaldas
   - Mismas proporciones
   - Sin rasgos faciales
   - Cabello indicado con lÃ­neas simples

**ComposiciÃ³n:** El sketch de la prenda (generado por IA) se superpone al maniquÃ­ base usando layering SVG o CSS z-index.

---

## 5. Componentes de la Interfaz

### 5.1 Pantalla Principal â€” Dashboard
- Header minimalista con logo "SketchFlow"
- BotÃ³n grande central: "+ Nueva Ficha TÃ©cnica"
- Historial de fichas recientes (grid de thumbnails)

### 5.2 Wizard de CreaciÃ³n (3 pasos en una sola pÃ¡gina con scroll)
- **SecciÃ³n 1:** Upload de fotos (drag & drop grid)
- **SecciÃ³n 2:** Instrucciones por foto (aparece despuÃ©s del upload)
- **SecciÃ³n 3:** Detalles generales (tipo, temporada, tejido, notas)
- **CTA fijo en bottom:** "Generar Ficha TÃ©cnica"

### 5.3 Vista de Ficha TÃ©cnica (Output)
- Preview a pantalla completa de la ficha
- Sidebar derecho con controles:
  - Editar notas (click en texto rojo para editar inline)
  - Rellenar medidas
  - Cambiar tejido
  - Subir swatch de tejido (imagen)
  - Regenerar sketch
- Barra superior: Descargar PDF / PNG / Compartir

### 5.4 Ficha TÃ©cnica â€” Estructura HTML/CSS del Output

```html
<div class="tech-pack" style="width: 210mm; height: 297mm;"> <!-- A4 -->

  <!-- HEADER -->
  <div class="header">
    <div class="brand-name">BRAND NAME</div>
    <div class="designer-names">Nombres</div>
    <table class="metadata-table">
      <tr>
        <td>Date Created: <input/></td>
        <td>Season: <input/></td>
        <td>Style: <input/></td>
      </tr>
      <tr>
        <td>Designer: <input/></td>
        <td>Ext: <input/></td>
        <td>Pattern Cutter: <input/></td>
      </tr>
    </table>
  </div>

  <!-- BODY: SKETCHES -->
  <div class="sketch-area">

    <!-- Medidas izquierda -->
    <div class="measurements-left">
      <div class="measure-line">bust â€”â€”â€”â€”</div>
      <div class="measure-line">waist â€”â€”â€”â€”</div>
      <div class="measure-line">seat â€”â€”â€”â€”</div>
    </div>

    <!-- ManiquÃ­ Frontal + Sketch -->
    <div class="croquis-container frontal">
      <svg class="maniqui-base"><!-- croquis frontal gris --></svg>
      <svg class="sketch-overlay"><!-- prenda generada por IA --></svg>
    </div>

    <!-- ManiquÃ­ Trasero + Sketch -->
    <div class="croquis-container trasero">
      <svg class="maniqui-base"><!-- croquis trasero gris --></svg>
      <svg class="sketch-overlay"><!-- prenda generada por IA --></svg>
    </div>

  </div>

  <!-- NOTAS EN ROJO (posicionables) -->
  <div class="red-notes">
    <div class="note" style="color: red;" contenteditable>
      Vivo de 3cm desfluecado ambos lados
    </div>
    <!-- mÃ¡s notas... -->
  </div>

  <!-- SWATCH DE TEJIDO -->
  <div class="fabric-swatch">
    <img src="swatch.jpg" />
    <div class="fabric-name">Tweed rojo/negro</div>
  </div>

  <!-- GRID INFERIOR: MEDIDAS Y COMENTARIOS -->
  <div class="bottom-grid">
    <table>
      <tr>
        <td>Medida</td><td>XS</td><td>S</td><td>M</td><td>L</td><td>XL</td>
      </tr>
      <!-- filas editables -->
    </table>
    <div class="comments-area" contenteditable>
      Comentarios adicionales para patronaje...
    </div>
  </div>

</div>
```

---

## 6. API Endpoints

### POST `/api/generate-techpack`
```json
// Request
{
  "images": [
    { "url": "blob://img1.jpg", "instructions": "Quiero el cuello de esta" },
    { "url": "blob://img2.jpg", "instructions": "Los botones de esta" },
    { "url": "blob://img3.jpg", "instructions": "El largo y silueta de esta" }
  ],
  "garment_type": "blazer",
  "season": "FW26",
  "style_name": "Set Tweed",
  "fabric": "Tweed rojo/negro",
  "additional_notes": "Peplum en espalda, vivo de 3cm desfluecado ambos lados"
}

// Response
{
  "sketch_front_svg": "<svg>...</svg>",
  "sketch_back_svg": "<svg>...</svg>",
  "technical_description": "Blazer cruzado con hombrera...",
  "construction_notes": [
    { "text": "Vivo de 3cm desfluecado", "position": "waist-front", "x": 150, "y": 320 },
    { "text": "Peplum", "position": "back-hem", "x": 250, "y": 380 }
  ],
  "suggested_measurements": {
    "bust": "",
    "waist": "",
    "seat": "",
    "total_length": "",
    "sleeve_length": ""
  }
}
```

### POST `/api/upload-image`
- Multipart form upload
- Returns blob URL

### POST `/api/export-pdf`
- Receives rendered HTML
- Returns PDF buffer

---

## 7. Modelo de Datos

```typescript
interface TechPack {
  id: string;
  created_at: Date;
  updated_at: Date;

  // Metadata
  brand_name: string;
  designer_name: string;
  season: string;
  style_name: string;
  pattern_cutter: string;
  extension: string;

  // Input
  reference_images: {
    url: string;
    instructions: string;
  }[];
  garment_type: string;
  fabric: string;
  fabric_swatch_url?: string;
  additional_notes: string;

  // Generated Output
  sketch_front_svg: string;
  sketch_back_svg: string;
  technical_description: string;
  construction_notes: {
    text: string;
    position: string;
    x: number;
    y: number;
    color: string; // default "#FF0000"
  }[];

  // Editable fields
  measurements: {
    bust: string;
    waist: string;
    seat: string;
    total_length: string;
    sleeve_length: string;
    [key: string]: string; // medidas custom
  };
  comments: string;
}
```

---

## 8. MVP Scope â€” Lo mÃ­nimo para que funcione YA

### âœ… MVP v0.1 (1-2 semanas)
- [ ] Upload de 1-4 fotos de referencia
- [ ] Campo de instrucciones por foto
- [ ] SelecciÃ³n de tipo de prenda + temporada + tejido
- [ ] GeneraciÃ³n de sketch SVG frontal y trasero via Claude Vision API
- [ ] Renderizado de ficha tÃ©cnica con template fijo (replicando la referencia)
- [ ] ManiquÃ­ base SVG precargado (frontal + trasero)
- [ ] Notas editables inline (contenteditable)
- [ ] Medidas editables
- [ ] Export a PDF
- [ ] Deploy en Vercel

### ğŸ”œ v0.2 (post-MVP)
- [ ] Historial de fichas guardadas (localStorage o Supabase)
- [ ] Regenerar solo el sketch sin perder ediciones
- [ ] Subir imagen de swatch de tejido
- [ ] LibrerÃ­a de tejidos predefinidos con imÃ¡genes
- [ ] Drag & drop de notas rojas para reposicionar
- [ ] Tabla de medidas por talla (XS-XL)
- [ ] Compartir ficha por link

### ğŸš€ v1.0 (futuro)
- [ ] Auth con login
- [ ] Workspace por equipo/marca
- [ ] Templates de ficha por marca
- [ ] IntegraciÃ³n con Pinterest (import directo de pins)
- [ ] Voice-to-text para instrucciones
- [ ] MÃºltiples vistas de prenda (lateral, detalle)
- [ ] GeneraciÃ³n de flat sketch (prenda sin maniquÃ­) adicional

---

## 9. Estructura de Archivos del Proyecto

```
sketchflow/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ layout.tsx              # Layout principal
â”‚   â”œâ”€â”€ page.tsx                # Landing / Dashboard
â”‚   â”œâ”€â”€ create/
â”‚   â”‚   â””â”€â”€ page.tsx            # Wizard de creaciÃ³n
â”‚   â”œâ”€â”€ techpack/
â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚       â””â”€â”€ page.tsx        # Vista/ediciÃ³n de ficha
â”‚   â””â”€â”€ api/
â”‚       â”œâ”€â”€ generate/
â”‚       â”‚   â””â”€â”€ route.ts        # POST - genera sketch con Claude
â”‚       â”œâ”€â”€ upload/
â”‚       â”‚   â””â”€â”€ route.ts        # POST - sube imagen
â”‚       â””â”€â”€ export-pdf/
â”‚           â””â”€â”€ route.ts        # POST - exporta PDF
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                     # shadcn components
â”‚   â”œâ”€â”€ ImageUploader.tsx       # Upload drag & drop
â”‚   â”œâ”€â”€ PhotoCard.tsx           # Foto + instrucciones
â”‚   â”œâ”€â”€ GarmentSelector.tsx     # Selector tipo prenda
â”‚   â”œâ”€â”€ TechPackPreview.tsx     # Preview completo de ficha
â”‚   â”œâ”€â”€ CroquisFrontal.tsx      # SVG maniquÃ­ frontal
â”‚   â”œâ”€â”€ CroquisTrasero.tsx      # SVG maniquÃ­ trasero
â”‚   â”œâ”€â”€ SketchOverlay.tsx       # SVG sketch sobre maniquÃ­
â”‚   â”œâ”€â”€ RedNote.tsx             # Nota editable roja
â”‚   â”œâ”€â”€ MeasurementLines.tsx    # LÃ­neas bust/waist/seat
â”‚   â”œâ”€â”€ FabricSwatch.tsx        # Preview de tejido
â”‚   â””â”€â”€ MetadataHeader.tsx      # Header con tabla de metadata
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ claude.ts               # Cliente Anthropic API
â”‚   â”œâ”€â”€ prompts.ts              # System prompts para sketch
â”‚   â”œâ”€â”€ svg-templates.ts        # ManiquÃ­s base SVG
â”‚   â””â”€â”€ export.ts               # LÃ³gica de export PDF/PNG
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ croquis-frontal.svg     # ManiquÃ­ base frontal
â”‚   â””â”€â”€ croquis-trasero.svg     # ManiquÃ­ base trasero
â”œâ”€â”€ .env.local                  # ANTHROPIC_API_KEY
â”œâ”€â”€ package.json
â”œâ”€â”€ tailwind.config.ts
â””â”€â”€ tsconfig.json
```

---

## 10. Variables de Entorno

```env
ANTHROPIC_API_KEY=sk-ant-...
BLOB_READ_WRITE_TOKEN=...      # Vercel Blob (si se usa)
```

---

## 11. Dependencias Clave

```json
{
  "dependencies": {
    "next": "^14.0.0",
    "@anthropic-ai/sdk": "latest",
    "react": "^18",
    "react-dom": "^18",
    "tailwindcss": "^3.4",
    "@radix-ui/react-dialog": "latest",
    "@radix-ui/react-select": "latest",
    "lucide-react": "latest",
    "html2canvas": "^1.4.1",
    "jspdf": "^2.5.1",
    "react-dropzone": "^14.2.3",
    "clsx": "^2.1.0",
    "tailwind-merge": "^2.2.0"
  }
}
```

---

## 12. Consideraciones TÃ©cnicas Importantes

### 12.1 GeneraciÃ³n SVG con Claude
- Claude Vision puede analizar imÃ¡genes y generar SVG como texto
- El prompt debe ser MUY especÃ­fico sobre viewBox, proporciones y estilo
- Incluir ejemplos de SVG de prendas en el prompt para mejor calidad
- Si la calidad del SVG no es suficiente, considerar: Claude genera descripciÃ³n â†’ otro modelo genera imagen â†’ se vectoriza con Potrace

### 12.2 ComposiciÃ³n ManiquÃ­ + Sketch
```tsx
// El maniquÃ­ y el sketch son SVGs independientes superpuestos
<div className="relative w-[300px] h-[500px]">
  {/* Capa 1: ManiquÃ­ base en gris */}
  <CroquisFrontal className="absolute inset-0 opacity-40" />
  {/* Capa 2: Sketch de la prenda encima */}
  <div
    className="absolute inset-0"
    dangerouslySetInnerHTML={{ __html: generatedSketchSVG }}
  />
  {/* Capa 3: Notas rojas */}
  {notes.map(note => (
    <RedNote key={note.id} {...note} />
  ))}
</div>
```

### 12.3 Export PDF
- Usar html2canvas para capturar el div de la ficha como imagen
- Insertar en jsPDF con tamaÃ±o A4
- Alternativa server-side con Puppeteer para mayor fidelidad
- Asegurar que los SVG se renderizan correctamente en el PDF

### 12.4 Responsive pero Print-First
- La ficha tÃ©cnica siempre se renderiza en proporciones A4
- En mÃ³vil se muestra escalada con zoom/scroll
- El wizard de creaciÃ³n sÃ­ es fully responsive

---

## 13. Criterios de AceptaciÃ³n del MVP

1. **La usuaria puede subir 2-4 fotos** sin fricciÃ³n (drag & drop o click)
2. **Puede escribir instrucciones** para cada foto indicando quÃ© elemento quiere
3. **Al pulsar "Generar"**, en menos de 30 segundos aparece la ficha tÃ©cnica
4. **La ficha replica el formato exacto** de la referencia de Zara Woman
5. **El sketch aparece sobre el maniquÃ­** tanto en vista frontal como trasera
6. **Las notas son editables** haciendo click sobre ellas
7. **Las medidas son rellenables** en los campos correspondientes
8. **Se puede descargar como PDF** en formato A4 listo para imprimir
9. **La ficha es legible** y Ãºtil para un equipo de patronaje real
10. **No requiere conocimientos tÃ©cnicos** â€” la interfaz es autoexplicativa

---

## 14. Prompt Completo para Claude Code

> Usa este prompt para arrancar el proyecto en Claude Code:

```
Crea un proyecto Next.js 14 con App Router llamado "sketchflow" siguiendo
exactamente el PRD adjunto. El objetivo es una web app que genera fichas
tÃ©cnicas de moda.

PRIORIDADES:
1. Que funcione el flujo completo: upload fotos â†’ instrucciones â†’ generar â†’ ver ficha â†’ descargar PDF
2. Que el output replique EXACTAMENTE el formato de la ficha de referencia (Zara Woman)
3. Que los SVG de maniquÃ­ frontal y trasero estÃ©n precargados como componentes React
4. Que la llamada a Claude Vision genere el sketch SVG de la prenda

STACK: Next.js 14, Tailwind, shadcn/ui, Anthropic SDK, html2canvas, jsPDF
DEPLOY: Preparado para Vercel

Empieza creando la estructura de archivos y los componentes base.
DespuÃ©s implementa el flujo de creaciÃ³n y la integraciÃ³n con Claude API.
```
